(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9336:(e,t,a)=>{Promise.resolve().then(a.bind(a,5158))},1163:(e,t,a)=>{"use strict";a.d(t,{UT:()=>n,lC:()=>o,q5:()=>d,vq:()=>i,x1:()=>l,z3:()=>c});var r=a(2651);let s="/api/tasks",l=async()=>{try{return(await r.A.get(s)).data}catch(e){throw console.error("Error fetching tasks:",e),e}},n=async e=>{try{return(await r.A.post(s,e)).data}catch(e){throw console.error("Error creating task:",e),e}},o=async(e,t)=>{try{return(await r.A.put("".concat(s,"/").concat(e),t)).data}catch(e){throw console.error("Error updating task:",e),e}},i=async e=>{try{await r.A.delete("".concat(s,"/").concat(e))}catch(e){throw console.error("Error deleting task:",e),e}},c=async e=>{try{return(await r.A.put("".concat(s,"/").concat(e,"/star"))).data}catch(e){throw console.error("Error toggling star:",e),e}},d=async e=>{try{return(await r.A.put("".concat(s,"/").concat(e,"/complete"))).data}catch(e){throw console.error("Error toggling complete:",e),e}}},2058:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(5155),s=a(1536),l=a(2115);let n=e=>{let{task:t,onToggleStar:a,onToggleComplete:n,onDelete:o,onEdit:i}=e,[c,d]=(0,l.useState)(!1),[u,g]=(0,l.useState)(t.title),[m,x]=(0,l.useState)(t.description),h=e=>new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)("div",{className:"p-6 border rounded-lg shadow-md flex flex-col gap-4 md:flex-row justify-between items-start md:items-center max-w-full bg-white hover:shadow-lg transition-shadow",children:[(0,r.jsxs)("div",{className:"flex flex-col flex-grow gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:()=>n(t.id),className:"p-3 rounded-full ".concat(t.completed?"bg-green-500 text-white":"bg-gray-200 text-gray-600"),title:"Toggle Complete",children:t.completed?(0,r.jsx)(s.A7C,{}):(0,r.jsx)(s.EaG,{})}),(0,r.jsx)("div",{className:"flex flex-col",children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"text",value:u,onChange:e=>g(e.target.value),className:"text-lg font-bold p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",autoFocus:!0,title:"Task Title"}),(0,r.jsx)("textarea",{value:m,onChange:e=>x(e.target.value),className:"text-sm p-2 border rounded-md mt-2 focus:outline-none focus:ring-2 focus:ring-green-500",rows:3,title:"Task Description"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-lg font-bold ".concat(t.completed?"line-through text-gray-500":"text-gray-800"),style:{wordBreak:"break-word"},title:t.title,children:t.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600",style:{wordBreak:"break-word"},title:t.description,children:t.description})]})})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-400 mt-2",children:[(0,r.jsxs)("p",{children:["Created: ",h(t.createdAt)]}),(0,r.jsxs)("p",{children:["Last Updated: ",h(t.updatedAt)]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,r.jsx)("button",{onClick:()=>a(t.id),className:"p-3 rounded-full ".concat(t.starred?"text-yellow-500":"text-gray-400"," hover:text-yellow-600"),title:"Toggle Star",children:(0,r.jsx)(s.gt3,{})}),c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{i(t.id,u,m),d(!1)},className:"p-3 rounded-full bg-green-500 text-white hover:bg-green-600",title:"Save Task",children:"Save"}),(0,r.jsx)("button",{onClick:()=>{g(t.title),x(t.description),d(!1)},className:"p-3 rounded-full bg-gray-500 text-white hover:bg-gray-600",title:"Cancel Edit",children:"Cancel"})]}):(0,r.jsx)("button",{onClick:()=>{d(!0)},className:"p-3 rounded-full bg-green-500 text-white hover:bg-green-600",title:"Edit Task",children:(0,r.jsx)(s.uO9,{})}),(0,r.jsx)("button",{onClick:()=>o(t.id),className:"p-3 rounded-full bg-red-500 text-white hover:bg-red-600",title:"Delete Task",children:(0,r.jsx)(s.RCe,{})})]})]})}},5158:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(5155),s=a(2115);let l=e=>{let{onCreate:t}=e,[a,l]=(0,s.useState)(""),[n,o]=(0,s.useState)("");return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&(t({title:a,description:n}),l(""),o(""))},className:"p-6 bg-white border border-gray-200 rounded-lg shadow-lg space-y-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-700",children:"Create a New Task"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"task-title",className:"block text-gray-600 font-medium mb-1",children:"Task Title"}),(0,r.jsx)("input",{id:"task-title",type:"text",placeholder:"Enter task title",value:a,onChange:e=>l(e.target.value),className:"p-3 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400","aria-label":"Task title"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"task-description",className:"block text-gray-600 font-medium mb-1",children:"Task Description"}),(0,r.jsx)("textarea",{id:"task-description",placeholder:"Enter task description (optional)",value:n,onChange:e=>o(e.target.value),className:"p-3 border border-gray-300 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400","aria-label":"Task description"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full py-3 bg-green-500 text-white font-medium rounded-md hover:bg-green-600 focus:ring-2 focus:ring-green-400 focus:outline-none transition",children:"Add Task"})]})};var n=a(2058),o=a(1163),i=a(1536);function c(){let[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)("date"),[g,m]=(0,s.useState)("asc"),[x,h]=(0,s.useState)("all"),p=async()=>{c(!0);try{let e=await (0,o.x1)();t(e)}finally{c(!1)}};(0,s.useEffect)(()=>{p()},[]);let f=async e=>{c(!0);try{let a=await (0,o.UT)(e);t(e=>[...e,a])}finally{c(!1)}},b=async a=>{await (0,o.z3)(a),t(e.map(e=>e.id===a?{...e,starred:!e.starred}:e))},j=async a=>{await (0,o.q5)(a),t(e.map(e=>e.id===a?{...e,completed:!e.completed}:e))},y=async e=>{await (0,o.vq)(e),t(t=>t.filter(t=>t.id!==e))},v=async()=>{let a="completed"===x?e.filter(e=>e.completed):"unfinished"===x?e.filter(e=>!e.completed):e;await Promise.all(a.map(e=>(0,o.vq)(e.id))),t(e=>"completed"===x?e.filter(e=>!e.completed):"unfinished"===x?e.filter(e=>e.completed):[])},w=async(a,r,s)=>{await (0,o.lC)(a,{id:a,title:r,description:s||""}),t(e.map(e=>e.id===a?{...e,title:r,description:s||""}:e))},k=[...e].sort((e,t)=>"date"===d?"asc"===g?e.id-t.id:t.id-e.id:"title"===d?"asc"===g?e.title.localeCompare(t.title):t.title.localeCompare(e.title):"status"===d?"asc"===g?e.completed===t.completed?0:e.completed?1:-1:e.completed===t.completed?0:e.completed?-1:1:0);return(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsx)(l,{onCreate:f}),(0,r.jsxs)("div",{className:"flex justify-between items-center my-4",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("select",{title:"Sort Options",onChange:e=>{u(e.target.value)},value:d,className:"border p-2 rounded-md",children:[(0,r.jsx)("option",{value:"date",children:"Date"}),(0,r.jsx)("option",{value:"title",children:"Title"}),(0,r.jsx)("option",{value:"status",children:"Status"})]}),(0,r.jsx)("button",{type:"button",onClick:()=>{m(e=>"asc"===e?"desc":"asc")},className:"ml-2 p-2 rounded-full bg-blue-500 text-white hover:bg-blue-600",title:"Toggle Sort Order",children:(0,r.jsx)(i.MjW,{})})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("select",{title:"Delete Options",onChange:e=>{h(e.target.value)},value:x,className:"border p-2 rounded-md",children:[(0,r.jsx)("option",{value:"all",children:"All Tasks"}),(0,r.jsx)("option",{value:"completed",children:"Completed Tasks"}),(0,r.jsx)("option",{value:"unfinished",children:"Unfinished Tasks"})]}),(0,r.jsx)("button",{onClick:v,className:"p-2 rounded-full bg-red-500 text-white hover:bg-red-600",title:"Delete Selected Tasks",children:(0,r.jsx)(i.RCe,{})})]})]}),a?(0,r.jsx)("p",{children:"Loading tasks..."}):(0,r.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,r.jsx)(n.A,{task:e,onToggleStar:b,onToggleComplete:j,onDelete:y,onEdit:w},e.id))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[711,53,441,517,358],()=>t(9336)),_N_E=e.O()}]);